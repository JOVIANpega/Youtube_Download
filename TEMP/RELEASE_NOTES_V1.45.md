# 版本 1.45 發布說明

發布日期: 2024-12-30

## 主要更新

### 1. 自動下載 FFmpeg 功能

- 新增自動下載 FFmpeg 功能，解決高畫質影片合併失敗問題
- 程式會自動下載 FFmpeg 並存放在本地資料夾 (./ffmpeg_bin)
- 下載過一次後不會重複下載，節省網路流量
- 使用者不需要手動安裝 FFmpeg，大幅提升使用便利性

### 2. FFmpeg 路徑管理優化

- 明確指定 FFmpeg 路徑給 yt-dlp，確保合併過程順利進行
- 優先使用下載的 FFmpeg，如果失敗才嘗試使用系統安裝的版本
- 改進 FFmpeg 檢測邏輯，確保只有在 FFmpeg 真正可用時才使用它

### 3. 用戶介面改進

- 添加 FFmpeg 自動下載按鈕，讓使用者可以輕鬆獲取 FFmpeg
- 改進 FFmpeg 狀態顯示，清楚標示當前 FFmpeg 可用狀態
- 更新 FFmpeg 幫助對話框，提供更清晰的指引

## 問題修復

- 修復了因 FFmpeg 相關錯誤導致合併視頻和音頻失敗的問題
- 修復了在 FFmpeg 不可用時無法下載高畫質影片的問題
- 改進錯誤處理邏輯，即使 FFmpeg 出現問題，仍能保證下載高畫質視頻檔案

## 使用說明

1. 啟動程式後，如果系統中沒有 FFmpeg，會顯示「未找到 FFmpeg」的提示
2. 點擊「自動下載」按鈕，程式會自動下載並設置 FFmpeg
3. 下載完成後，即可正常下載高畫質影片並自動合併音頻

## 技術細節

- FFmpeg 下載自 GitHub 官方發布，使用穩定版本
- 下載的 FFmpeg 存放在程式目錄下的 ffmpeg_bin 資料夾中
- 使用多線程下載，不會阻塞主界面
- 自動驗證下載的 FFmpeg 是否可用 