# 多平台影片下載器 (Multi-Platform Video Downloader)

一個功能強大的影片下載工具，使用 Python 和 PySide6 開發，支援多種平台、多種格式和解析度的下載。

## 🎉 版本更新 (V1.68)

### 🚀 主要新功能
- **增強的平台檢測**: 智能識別影片來源，顯示平台圖標和顏色
- **X.com/Twitter 特殊優化**: 使用手機User-Agent模擬，提高下載成功率
- **改進的進度顯示**: 實時顯示平台名稱、影片標題和下載進度
- **自動清理功能**: 下載完成後自動移除項目，保持界面整潔
- **增強的錯誤處理**: 更友善的錯誤訊息和解決方案建議

### 🔧 技術改進
- **SSL證書修復**: 自動處理SSL證書問題
- **平台特定標頭**: 為不同平台提供最佳化的HTTP標頭
- **更好的相容性**: 支援更多URL格式和平台變體

## 主要功能

- **多平台支援**：支援多個影片平台的內容下載
- **智能平台識別**：自動識別影片來源並顯示專屬圖標
- **多格式下載**：支援影片、音訊多種格式下載
- **批量下載**：支援多個影片同時下載
- **自訂解析度**：可選擇不同解析度進行下載
- **音訊視頻自動合併**：高畫質影片(720p+)自動合併音訊和視頻，確保下載的影片有聲音
- **下載管理**：暫停、繼續、取消下載
- **檔案管理**：瀏覽、刪除、合併已下載檔案
- **自訂設定**：可調整下載路徑、檔案命名、網路設定等
- **年齡限制處理**：支援使用 cookies 下載年齡限制影片
- **私人內容下載**：支援使用 cookies 下載需要登入的私人內容

## 支援的平台

### 🌐 完整支援
- **YouTube** - 完整支援，包含高解析度影片下載
- **TikTok / 抖音** - 支援公開影片下載
- **Facebook** - 支援公開影片下載
- **Instagram** - 支援公開Reels和影片
- **Bilibili** - 支援B站公開影片
- **X (Twitter)** - 支援公開推文影片下載，特殊優化

### 🎯 平台特色
- 每個平台都有專屬圖標和顏色
- 智能URL分析，支援多種URL格式
- 平台特定的下載選項和錯誤處理

## 系統需求

- Python 3.8+
- PySide6
- yt-dlp (最新版本)
- FFmpeg (用於合併影片和音訊)

## 安裝方法

1. 克隆此倉庫：
```bash
git clone https://github.com/your-username/video-downloader.git
cd video-downloader
```

2. 安裝依賴：
```bash
pip install -r requirements.txt
```

3. 安裝 FFmpeg：
   - Windows: 下載 FFmpeg 並添加到系統 PATH
   - macOS: `brew install ffmpeg`
   - Linux: `sudo apt install ffmpeg`

## 使用方法

1. 運行程式：
```bash
python src/tabbed_gui_demo.py
```
或使用啟動腳本：
```bash
python start_downloader_v1.68.py
```

2. 在下載頁籤中輸入影片網址（支援多個平台）
3. 系統會自動識別平台並顯示相應圖標
4. 選擇格式和解析度
5. 點擊「開始下載」按鈕

## 平台特定說明

### X.com/Twitter
- 使用iPhone Safari User-Agent模擬
- 強制合併為MP4格式
- 需要公開影片，私密影片需要登入

### Instagram
- 支援公開Reels和影片
- 自動處理DASH格式合併

### TikTok/抖音
- 支援公開影片下載
- 智能處理不同地區的URL格式

### Bilibili
- 支援B站公開影片
- 自動處理B站特有的格式

## 下載高畫質影片

1. 選擇「影片+音訊」格式選項
2. 選擇720p或更高解析度（1080p、4K等）
3. 系統會自動使用FFmpeg合併音訊和視頻，確保下載的高畫質影片有聲音
4. 合併後的檔案將保存為MP4格式

## 下載需要登入的內容

1. 在設定頁籤中的「網路設定」區塊啟用「使用 cookies」選項
2. 選擇有效的 cookies.txt 檔案（可使用瀏覽器擴充功能匯出）
3. 套用設定後重新下載

## 常見問題

### 🔧 技術問題
1. **下載失敗怎麼辦？**
   - 檢查網路連接
   - 確認連結有效且來自支援的平台
   - 嘗試使用不同的格式或解析度
   - 更新 yt-dlp 到最新版本

2. **無法下載高解析度影片？**
   - 確保已正確安裝 FFmpeg
   - 高畫質影片(720p+)會自動合併音訊和視頻
   - 如果下載後沒有聲音，檢查FFmpeg是否正確安裝

3. **X.com/Twitter下載失敗？**
   - 確認影片為公開內容
   - 私密影片需要提供cookies.txt檔案
   - 檢查錯誤訊息中的解決方案

### 🌐 平台特定問題
- **Instagram**: 某些影片可能需要登入，請使用cookies
- **TikTok**: 地區限制可能影響下載，嘗試使用VPN
- **Bilibili**: 確認影片為公開內容，私密影片需要登入

## 錯誤處理

程式提供詳細的錯誤訊息和解決方案：
- 自動識別錯誤類型
- 提供針對性的解決建議
- 支援多語言錯誤訊息

## 授權

本項目採用 MIT 授權協議 - 詳見 [LICENSE](LICENSE) 檔案

## 貢獻

歡迎提交問題報告和功能請求，也歡迎提交 Pull Request 來改進程式。

## 📝 更新日誌

詳細的更新內容請參考 [RELEASE_NOTES_V1.68.md](RELEASE_NOTES_V1.68.md) 